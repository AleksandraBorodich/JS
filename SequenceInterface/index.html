<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="libs.js"></script>
</head>

<body>

    <script>
        ArraySeq = function(array) {
            this.array = array;
        }

        function RangeSeq(start, end) {
            this.start = start;
            this.end = end;
        }

        function logFive(obj) {
            for (var i = 0; obj != null && i < 5; i++) {
                 console.log(obj.current());
                 obj = obj.restructure();
            }
        }

        ArraySeq.prototype.current = function() {
            return this.array[0];
        }

        ArraySeq.prototype.restructure = function() {
            var newArray = this.array.slice(1);
            if (newArray.length == 0) {
                return null;
            } else {
                return new ArraySeq(newArray);
            }
        }

        RangeSeq.prototype.current = function() {
            return this.start;
        }

        RangeSeq.prototype.restructure = function() {
            if (this.start + 1 > this.end) {
                return null;
            } else {
                return new RangeSeq(this.start + 1, this.end);
            }
        }


        logFive(new ArraySeq([1, 2]));
        // → 1
        // → 2
        logFive(new RangeSeq(100, 1000));
        // → 100
        // → 101
        // → 102
        // → 103
        // → 104
    </script>

    <script src="test.js"></script>
</body>

</html>