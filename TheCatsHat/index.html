<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="mountains.js"></script>
    <script src="chapter/13_dom.js"></script>
</head>

<body>

    <body style="min-height: 200px">
        <img src="cat.png" id="cat" style="position: absolute">
        <img src="hat.png" id="hat" style="position: absolute">

        <script>
            var cat = document.querySelector("#cat");
            var hat = document.querySelector("#hat");

            var angle = 0,
                lastTime = null;

            function animate(time) {
                if (lastTime != null)
                    angle += (time - lastTime) * 0.0015;
                lastTime = time;

                hat.style.top = (Math.sin(angle) * 50 + 80) + "px";
                hat.style.left = (Math.cos(angle) * 200 + 300) + "px";
                requestAnimationFrame(animate);

                if (lastTime >= 3000) {
                	return;
                }
                cat.style.top = (Math.sin(angle) * 50 + 200) + "px";
                cat.style.left = (Math.cos(angle) * 200 + 180) + "px";
                cat.style.width = angle * 4 + '%'

            }
            requestAnimationFrame(animate);
        </script>

    </body>

</html>